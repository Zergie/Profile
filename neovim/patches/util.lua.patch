index 77ab1d422..0e91856e6 100644
--- a/runtime/lua/vim/lsp/util.lua
+++ b/runtime/lua/vim/lsp/util.lua
@@ -79,6 +79,7 @@ end
 
 ---@private
 local function split_lines(value)
+  value, _ = string.gsub(value, '\r\n?', '\n')
   return split(value, '\n', true)
 end
